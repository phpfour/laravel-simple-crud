## Defining Filters

SimpleCRUD filters are simple classes that allow you to scope your SimpleCRUD index queries with custom conditions.

### Select Filters 
The most common type of SimpleCRUD filter is the "select" filter, which allows the user to select a filter option from a drop-down selection menu.

You may generate a select filter using the `make:crud-filter` Artisan command. By default, SimpleCRUD will place newly generated filters in the app/SimpleCRUD/Filters directory:

```bash
php artisan make:crud-filter UserType
```

Each select filter generated by SimpleCRUD contains two methods: apply and options. The apply method is responsible for modifying the underlying Eloquent query to achieve the desired filter state, while the options method defines the "values" the filter may have. Let's take a look at an example UserType filter:

```php
<?php

namespace App\SimpleCRUD\Filters;

use Emran\SimpleCRUD\Filters\Filter;
use Emran\SimpleCRUD\Http\Requests\SimpleCrudRequest;

class UserType extends Filter
{
    /**
     * Apply the filter to the given query.
     *
     * @param  \Emran\SimpleCRUD\Http\Requests\SimpleCrudRequest  $request
     * @param  \Illuminate\Database\Eloquent\Builder  $query
     * @param  mixed  $value
     * @return \Illuminate\Database\Eloquent\Builder
     */
    public function apply(SimpleCrudRequest $request, $query, $value)
    {
        return $query->where('type', $value);
    }

    /**
     * Get the filter's available options.
     *
     * @param  \Emran\SimpleCRUD\Http\Requests\SimpleCrudRequest  $request
     * @return array
     */
    public function options(SimpleCrudRequest $request)
    {
        return [
            'Administrator' => 'admin',
            'Editor' => 'editor',
        ];
    }
}
```

The options method should return an array of keys and values. The array's keys will be used as the "human-friendly" text that will be displayed in the Nova UI, while the array's values will be passed into the apply method as the $value argument. This filter defines two possible values: admin and editor.

As you can see in the example above, you may leverage the incoming $value to modify your query, and the apply method should return the modified query instance.

### Boolean Filters
SimpleCRUD also supports "boolean" filters, which allow the user to select multiple filter options via a list of check-boxes.

You may generate a boolean filter using the `make:crud-filter --boolean` Artisan command. By default, SimpleCRUD will place newly generated filters in the app/SimpleCRUD/Filters directory:

```bash
php artisan make:crud-filter UserType --boolean
```

Each boolean filter generated by SimpleCRUD contains two methods: apply and options. The apply method is responsible for modifying the Eloquent query to achieve the desired filter state, while the options method defines the "values" the filter may have.

When building boolean filters, the $value argument passed to the apply method is an associative array containing the boolean value of each of your filter's options. Let's take a look at an example UserType filter:

```php
<?php

namespace App\Nova\Filters;

use Laravel\Nova\Filters\BooleanFilter;
use Laravel\Nova\Http\Requests\NovaRequest;

class UserType extends BooleanFilter
{
    /**
     * Apply the filter to the given query.
     *
     * @param  \Emran\SimpleCRUD\Http\Requests\SimpleCrudRequest  $request
     * @param  \Illuminate\Database\Eloquent\Builder  $query
     * @param  mixed  $value
     * @return \Illuminate\Database\Eloquent\Builder
     */
    public function apply(SimpleCrudRequest $request, $query, $value)
    {
        // $value = ['admin' => true / false, 'editor' => true / false]

        return $query->where('is_admin', $value['admin'])
                     ->where('is_editor', $value['editor']);
    }

    /**
     * Get the filter's available options.
     *
     * @param  \Emran\SimpleCRUD\Http\Requests\SimpleCrudRequest  $request
     * @return array
     */
    public function options(SimpleCrudRequest $request)
    {
        return [
            'Administrator' => 'admin',
            'Editor' => 'editor',
        ];
    }
}
```

The options method should return an array of keys and values. The array's keys will be used as the "human-friendly" text that will be displayed in the SimpleCRUD UI. The array's values will be passed into the apply method as the $value argument. This filter defines two possible values: admin and editor.

As you can see in the example above, you may leverage the incoming $value to modify your query. The apply method should return the modified query instance.

### Date Filters
SimpleCRUD also supports "date" filters, which allow the user to select the filter's value via a date selection calendar.

You may generate a date filter using the `make:crud-filter --date` Artisan command. By default, SimpleCRUD will place newly generated filters in the app/SimpleCRUD/Filters directory:

```bash
php artisan make:crud-filter BirthdayFilter --date
```

Each date filter generated by SimpleCRUD contains one method: apply. The apply method is responsible for modifying the query to achieve the desired filter state.

When building date filters, the $value argument passed to the apply method is the string representation of the selected date. Let's take a look at an example BirthdayFilter filter:

```php
<?php

namespace App\SimpleCRUD\Filters;

use Illuminate\Support\Carbon;
use Emran\SimpleCRUD\Filters\DateFilter;
use Emran\SimpleCRUD\Http\Requests\SimpleCrudRequest;

class BirthdayFilter extends DateFilter
{
    /**
     * Apply the filter to the given query.
     *
     * @param  \Emran\SimpleCRUD\Http\Requests\SimpleCrudRequest  $request
     * @param  \Illuminate\Database\Eloquent\Builder  $query
     * @param  mixed  $value
     * @return \Illuminate\Database\Eloquent\Builder
     */
    public function apply(SimpleCrudRequest $request, $query, $value)
    {
        return $query->where('birthday', '<=', Carbon::parse($value));
    }
}
```

As you can see in the example above, you may leverage the incoming $value to modify your query. The apply method should return the modified query instance.

### Filter Titles
If you would like to change the filter title that is displayed in SimpleCRUD's filter selection menu, you may define a name property on the filter class:

```php
/**
 * The displayable name of the filter.
 *
 * @var string
 */
public $name = 'Filter Title';
```
  
If the name of your filter needs to be dynamic, you should create a name method on the filter class:

```php
/**
 * Get the displayable name of the filter.
 *
 * @return string
 */
public function name()
{
    return 'Filter By '.$this->customProperty;
}
```
  
### Filter Default Values
If you would like to set the default value of a filter, you may define a default method on the filter class:

```php
/**
 * The default value of the filter.
 *
 * @var string
 */
public function default()
{
    return true;
}
```
